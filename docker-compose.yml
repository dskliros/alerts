services:
  alerts:
    build: .
    container_name: alerts-app
    env_file:
      - .env
    volumes:
      # Mount logs directory for persistence
      - ./logs:/app/logs
      # Mount data directory if you need to access CSV files
      - ./data:/app/data
      # Mount queries directory for easy SQL updates without rebuild
      - ./queries:/app/queries
      # Mount SSH key (read-only for security)
      - /Users/prominence/Dev/prominence_user_key_rsa4096:/app/ssh_key:ro
    # restart: unless-stopped    
    #
    # Optional: Run on a schedule using cron-like functionality
    # Uncomment and modify the command below if you want scheduled execution
    # command: sh -c "while true; do python src/events_alerts.py && sleep 3600; done"
